 .../3D/Character/Character_Optimieze2.fbx.meta     | 24 ++++++-----
 .../Animator/Ani_CharOptimize.controller           | 14 +++----
 MoveStopMove/Assets/Scenes/SampleScene.unity       | 18 ++++++---
 MoveStopMove/Assets/Script/Characters/Character.cs | 34 +++++++++++++++-
 MoveStopMove/Assets/Script/Characters/Enemy.cs     | 46 +++++++++++++++-------
 MoveStopMove/Assets/Script/EnemyStates/IStates.cs  |  6 +--
 .../Assets/Script/EnemyStates/StateAttack.cs       | 10 ++---
 .../Assets/Script/EnemyStates/StateIdle.cs         |  6 +--
 .../Assets/Script/EnemyStates/StatePatrol.cs       | 10 ++---
 MoveStopMove/Packages/manifest.json                |  2 +-
 MoveStopMove/Packages/packages-lock.json           | 15 ++++++-
 MoveStopMove/ProjectSettings/ProjectVersion.txt    |  4 +-
 12 files changed, 130 insertions(+), 59 deletions(-)

diff --git a/MoveStopMove/Assets/Internship_BT4_MoveStopMove/3D/Character/Character_Optimieze2.fbx.meta b/MoveStopMove/Assets/Internship_BT4_MoveStopMove/3D/Character/Character_Optimieze2.fbx.meta
index 0f52484..b024402 100644
--- a/MoveStopMove/Assets/Internship_BT4_MoveStopMove/3D/Character/Character_Optimieze2.fbx.meta
+++ b/MoveStopMove/Assets/Internship_BT4_MoveStopMove/3D/Character/Character_Optimieze2.fbx.meta
@@ -33,6 +33,12 @@ ModelImporter:
   - first:
       74: 5522812681064789136
     second: Run
+  - first:
+      74: -729247239487951332
+    second: Armature|Attack2
+  - first:
+      74: 6950567274491055869
+    second: Armature|all (1)
   externalObjects:
   - first:
       type: UnityEngine:Material
@@ -76,11 +82,11 @@ ModelImporter:
     extraUserProperties: []
     clipAnimations:
     - serializedVersion: 16
-      name: Idle
-      takeName: Armature|all
+      name: Armature|Attack2
+      takeName: Armature|Attack2
       internalID: 0
-      firstFrame: 129
-      lastFrame: 263
+      firstFrame: 0
+      lastFrame: 66
       wrapMode: 0
       orientationOffsetY: 0
       level: 0
@@ -134,19 +140,19 @@ ModelImporter:
       maskSource: {instanceID: 0}
       additiveReferencePoseFrame: 0
     - serializedVersion: 16
-      name: Attack
+      name: Armature|all (1)
       takeName: Armature|all
       internalID: 0
-      firstFrame: 24
-      lastFrame: 57
+      firstFrame: 0
+      lastFrame: 261
       wrapMode: 0
       orientationOffsetY: 0
       level: 0
       cycleOffset: 0
       loop: 0
       hasAdditiveReferencePose: 0
-      loopTime: 0
-      loopBlend: 0
+      loopTime: 1
+      loopBlend: 1
       loopBlendOrientation: 0
       loopBlendPositionY: 0
       loopBlendPositionXZ: 0
diff --git a/MoveStopMove/Assets/Internship_BT4_MoveStopMove/Animator/Ani_CharOptimize.controller b/MoveStopMove/Assets/Internship_BT4_MoveStopMove/Animator/Ani_CharOptimize.controller
index 4df9f28..86e5172 100644
--- a/MoveStopMove/Assets/Internship_BT4_MoveStopMove/Animator/Ani_CharOptimize.controller
+++ b/MoveStopMove/Assets/Internship_BT4_MoveStopMove/Animator/Ani_CharOptimize.controller
@@ -145,37 +145,37 @@ AnimatorController:
     m_DefaultFloat: 0
     m_DefaultInt: 0
     m_DefaultBool: 0
-    m_Controller: {fileID: 0}
+    m_Controller: {fileID: 9100000}
   - m_Name: IsDead
     m_Type: 4
     m_DefaultFloat: 0
     m_DefaultInt: 0
     m_DefaultBool: 0
-    m_Controller: {fileID: 0}
+    m_Controller: {fileID: 9100000}
   - m_Name: IsAttack
     m_Type: 4
     m_DefaultFloat: 0
     m_DefaultInt: 0
     m_DefaultBool: 0
-    m_Controller: {fileID: 0}
+    m_Controller: {fileID: 9100000}
   - m_Name: IsWin
     m_Type: 4
     m_DefaultFloat: 0
     m_DefaultInt: 0
     m_DefaultBool: 0
-    m_Controller: {fileID: 0}
+    m_Controller: {fileID: 9100000}
   - m_Name: IsDance
     m_Type: 4
     m_DefaultFloat: 0
     m_DefaultInt: 0
     m_DefaultBool: 0
-    m_Controller: {fileID: 0}
+    m_Controller: {fileID: 9100000}
   - m_Name: IsUlti
     m_Type: 4
     m_DefaultFloat: 0
     m_DefaultInt: 0
     m_DefaultBool: 0
-    m_Controller: {fileID: 0}
+    m_Controller: {fileID: 9100000}
   m_AnimatorLayers:
   - serializedVersion: 5
     m_Name: Top
@@ -521,7 +521,7 @@ AnimatorState:
   m_MirrorParameterActive: 0
   m_CycleOffsetParameterActive: 0
   m_TimeParameterActive: 0
-  m_Motion: {fileID: 6720303635017113406, guid: 38f9296dc39c27647a0119314baf12a2, type: 3}
+  m_Motion: {fileID: -729247239487951332, guid: 38f9296dc39c27647a0119314baf12a2, type: 3}
   m_Tag: 
   m_SpeedParameter: 
   m_MirrorParameter: 
diff --git a/MoveStopMove/Assets/Scenes/SampleScene.unity b/MoveStopMove/Assets/Scenes/SampleScene.unity
index 9851db8..b092ea7 100644
--- a/MoveStopMove/Assets/Scenes/SampleScene.unity
+++ b/MoveStopMove/Assets/Scenes/SampleScene.unity
@@ -38,7 +38,7 @@ RenderSettings:
   m_ReflectionIntensity: 1
   m_CustomReflection: {fileID: 0}
   m_Sun: {fileID: 705507994}
-  m_IndirectSpecularColor: {r: 0.44657898, g: 0.4964133, b: 0.5748178, a: 1}
+  m_IndirectSpecularColor: {r: 0.44657874, g: 0.49641275, b: 0.5748171, a: 1}
   m_UseRadianceAmbientProbe: 0
 --- !u!157 &3
 LightmapSettings:
@@ -501,7 +501,7 @@ SkinnedMeshRenderer:
   m_RenderingLayerMask: 1
   m_RendererPriority: 0
   m_Materials:
-  - {fileID: 0}
+  - {fileID: 2100000, guid: 59e4faf24927edf4a82f463ad16f1c37, type: 2}
   m_StaticBatchInfo:
     firstSubMesh: 0
     subMeshCount: 0
@@ -1023,7 +1023,7 @@ MonoBehaviour:
   enemyList:
   - poolTag: Enemy
     _enemy: {fileID: 2136471209}
-    poolSize: 10
+    poolSize: 2
 --- !u!1 &513634970
 GameObject:
   m_ObjectHideFlags: 0
@@ -3420,7 +3420,7 @@ MonoBehaviour:
       m_Calls: []
   m_FontData:
     m_Font: {fileID: 10102, guid: 0000000000000000e000000000000000, type: 0}
-    m_FontSize: 100
+    m_FontSize: 50
     m_FontStyle: 0
     m_BestFit: 0
     m_MinSize: 0
@@ -3645,7 +3645,7 @@ MonoBehaviour:
       m_Calls: []
   m_FontData:
     m_Font: {fileID: 10102, guid: 0000000000000000e000000000000000, type: 0}
-    m_FontSize: 100
+    m_FontSize: 50
     m_FontStyle: 0
     m_BestFit: 0
     m_MinSize: 1
@@ -4544,6 +4544,9 @@ MonoBehaviour:
   m_Script: {fileID: 11500000, guid: 800bc87e93e56e547be2a8fc67d95617, type: 3}
   m_Name: 
   m_EditorClassIdentifier: 
+  _transform: {fileID: 0}
+  weapDirection: {x: 0, y: 0, z: 0}
+  Anim: {fileID: 0}
   wanderRadius: 100
   wanderTimer: 5
 --- !u!64 &2136471212
@@ -4816,7 +4819,7 @@ SkinnedMeshRenderer:
   m_RenderingLayerMask: 1
   m_RendererPriority: 0
   m_Materials:
-  - {fileID: 0}
+  - {fileID: 10302, guid: 0000000000000000f000000000000000, type: 0}
   m_StaticBatchInfo:
     firstSubMesh: 0
     subMeshCount: 0
@@ -6894,6 +6897,9 @@ MonoBehaviour:
   m_Script: {fileID: 11500000, guid: deb1e13ba15930047a122c30da9e69e9, type: 3}
   m_Name: 
   m_EditorClassIdentifier: 
+  _transform: {fileID: 0}
+  weapDirection: {x: 0, y: 0, z: 0}
+  Anim: {fileID: 0}
   _rigid: {fileID: 8296172669118560345}
   _joystick: {fileID: 8170153791579082109}
   moveSpeed: 5
diff --git a/MoveStopMove/Assets/Script/Characters/Character.cs b/MoveStopMove/Assets/Script/Characters/Character.cs
index ecaf1bf..e88dd7d 100644
--- a/MoveStopMove/Assets/Script/Characters/Character.cs
+++ b/MoveStopMove/Assets/Script/Characters/Character.cs
@@ -22,10 +22,40 @@ public class Character : MonoBehaviour
     {
 
     }
+    public virtual void Attack()
+    {
+        Anim.SetBool("IsAttack", true);
+    }
+    public virtual void StopAttack()
+    {
+        Anim.SetBool("IsAttack", false);
+    }
 
-    public void Attack()
+    public virtual void Patrol()
+    {
+        //Anim.Set("IsRun")
+    }
+    public virtual void StopPatrol()
     {
-        Anim.SetBool("IsIdle", true);
+
     }
 
+    protected IStates currentState;
+
+    public virtual void ChangeState(IStates state)
+    {
+        if (currentState == state)
+            return;
+        if (currentState != null)
+        {
+            currentState.OnExit(this);
+        }
+
+        currentState = state;
+
+        if (currentState != null)
+        {
+            currentState.OnEnter(this);
+        }
+    }
 }
diff --git a/MoveStopMove/Assets/Script/Characters/Enemy.cs b/MoveStopMove/Assets/Script/Characters/Enemy.cs
index 573df92..7464ac8 100644
--- a/MoveStopMove/Assets/Script/Characters/Enemy.cs
+++ b/MoveStopMove/Assets/Script/Characters/Enemy.cs
@@ -12,13 +12,14 @@ public class Enemy : Character
     private NavMeshAgent agent;
     private float timer;
 
+    GameObject attackTarget;
+
     public override void Start()
     {
         base.Start();
         ChangeState(new StatePatrol());
     }
 
-
     void OnEnable()
     {
         agent = GetComponent<NavMeshAgent>();
@@ -32,21 +33,30 @@ public class Enemy : Character
         {
             currentState.OnExecute(this);
         }
+        //Debug.Log("currentState:" + currentState);
     }
 
-    public void Patrol()
+    public override void Patrol()
     {
+        base.Patrol();
         timer += Time.deltaTime;
 
         {
             if (timer >= wanderTimer)
             {
                 Vector3 newPos = RandomNavSphere(transform.position, wanderRadius, -1);
+                agent.isStopped = false;
                 agent.SetDestination(newPos);
                 timer = 0;
             }
         }
     }
+    public override void StopPatrol()
+    {
+        base.StopPatrol();
+        agent.isStopped = true;
+        timer = wanderTimer;
+    }
 
     public static Vector3 RandomNavSphere(Vector3 origin, float dist, int layermask)
     {
@@ -66,23 +76,31 @@ public class Enemy : Character
         if (other.gameObject.CompareTag("Character"))
         {
             ChangeState(new StateAttack());
-        }    
+            attackTarget = other.gameObject;
+        }
     }
-
-    private IStates currentState;
-
-    public void ChangeState(IStates state)
+    private void OnTriggerExit(Collider other)
     {
-        if (currentState != null)
+        if (other.gameObject.CompareTag("Character"))
         {
-            currentState.OnExit(this);
+            ChangeState(new StatePatrol());
+            attackTarget = null;
         }
+    }
 
-        currentState = state;
 
-        if (currentState != null)
-        {
-            currentState.OnEnter(this);
-        }
+    public void Idle()
+    {
+
+    }
+
+    public override void Attack()
+    {
+        base.Attack();
+        transform.LookAt(attackTarget.transform);
+        Vector3 eulerAngles = transform.rotation.eulerAngles;
+        eulerAngles.x = 0;
+        eulerAngles.z = 0;
+        transform.rotation = Quaternion.Euler(eulerAngles);
     }
 }
diff --git a/MoveStopMove/Assets/Script/EnemyStates/IStates.cs b/MoveStopMove/Assets/Script/EnemyStates/IStates.cs
index 584d5b5..70f7700 100644
--- a/MoveStopMove/Assets/Script/EnemyStates/IStates.cs
+++ b/MoveStopMove/Assets/Script/EnemyStates/IStates.cs
@@ -1,7 +1,7 @@
 
 public interface IStates
 {
-    void OnEnter(Enemy enemy);
-    void OnExecute(Enemy enemy);
-    void OnExit(Enemy enemy);
+    void OnEnter(Character target);
+    void OnExecute(Character target);
+    void OnExit(Character target);
 }
diff --git a/MoveStopMove/Assets/Script/EnemyStates/StateAttack.cs b/MoveStopMove/Assets/Script/EnemyStates/StateAttack.cs
index bac2e98..d4cb716 100644
--- a/MoveStopMove/Assets/Script/EnemyStates/StateAttack.cs
+++ b/MoveStopMove/Assets/Script/EnemyStates/StateAttack.cs
@@ -4,18 +4,18 @@ using UnityEngine;
 
 public class StateAttack : IStates
 {
-    public void OnEnter(Enemy enemy)
+    public void OnEnter(Character target)
     {
 
     }
 
-    public void OnExecute(Enemy enemy)
+    public void OnExecute(Character target)
     {
-        enemy.Attack();
+        target.Attack();
     }
 
-    public void OnExit(Enemy enemy)
+    public void OnExit(Character target)
     {
-
+        target.StopAttack();
     }
 }
diff --git a/MoveStopMove/Assets/Script/EnemyStates/StateIdle.cs b/MoveStopMove/Assets/Script/EnemyStates/StateIdle.cs
index b78276f..0f92acc 100644
--- a/MoveStopMove/Assets/Script/EnemyStates/StateIdle.cs
+++ b/MoveStopMove/Assets/Script/EnemyStates/StateIdle.cs
@@ -4,17 +4,17 @@ using UnityEngine;
 
 public class StateIdle : IStates
 {
-    public void OnEnter(Enemy enemy)
+    public void OnEnter(Character enemy)
     {
 
     }
 
-    public void OnExecute(Enemy enemy)
+    public void OnExecute(Character enemy)
     {
 
     }
 
-    public void OnExit(Enemy enemy)
+    public void OnExit(Character enemy)
     {
 
     }
diff --git a/MoveStopMove/Assets/Script/EnemyStates/StatePatrol.cs b/MoveStopMove/Assets/Script/EnemyStates/StatePatrol.cs
index 346bbf0..643cbf5 100644
--- a/MoveStopMove/Assets/Script/EnemyStates/StatePatrol.cs
+++ b/MoveStopMove/Assets/Script/EnemyStates/StatePatrol.cs
@@ -8,19 +8,19 @@ public class StatePatrol : IStates
     bool isPatrol = false;
 
 
-    public void OnEnter(Enemy enemy)
+    public void OnEnter(Character target)
     {
 
     }
 
 
-    public void OnExecute(Enemy enemy)
+    public void OnExecute(Character target)
     {
-            enemy.Patrol();
+        target.Patrol();
     }
 
-    public void OnExit(Enemy enemy)
+    public void OnExit(Character target)
     {
-        Debug.Log("exit");
+        target.StopPatrol();
     }
 }
diff --git a/MoveStopMove/Packages/manifest.json b/MoveStopMove/Packages/manifest.json
index 4acd2fb..72dd23e 100644
--- a/MoveStopMove/Packages/manifest.json
+++ b/MoveStopMove/Packages/manifest.json
@@ -1,6 +1,6 @@
 {
   "dependencies": {
-    "com.unity.collab-proxy": "1.11.2",
+    "com.unity.collab-proxy": "1.15.12",
     "com.unity.ide.rider": "2.0.7",
     "com.unity.ide.visualstudio": "2.0.15",
     "com.unity.ide.vscode": "1.2.5",
diff --git a/MoveStopMove/Packages/packages-lock.json b/MoveStopMove/Packages/packages-lock.json
index 06d062a..900dc12 100644
--- a/MoveStopMove/Packages/packages-lock.json
+++ b/MoveStopMove/Packages/packages-lock.json
@@ -1,10 +1,12 @@
 {
   "dependencies": {
     "com.unity.collab-proxy": {
-      "version": "1.11.2",
+      "version": "1.15.12",
       "depth": 0,
       "source": "registry",
-      "dependencies": {},
+      "dependencies": {
+        "com.unity.services.core": "1.0.1"
+      },
       "url": "https://packages.unity.com"
     },
     "com.unity.ext.nunit": {
@@ -39,6 +41,15 @@
       "dependencies": {},
       "url": "https://packages.unity.com"
     },
+    "com.unity.services.core": {
+      "version": "1.0.1",
+      "depth": 1,
+      "source": "registry",
+      "dependencies": {
+        "com.unity.modules.unitywebrequest": "1.0.0"
+      },
+      "url": "https://packages.unity.com"
+    },
     "com.unity.test-framework": {
       "version": "1.1.31",
       "depth": 0,
diff --git a/MoveStopMove/ProjectSettings/ProjectVersion.txt b/MoveStopMove/ProjectSettings/ProjectVersion.txt
index cec2ec9..14a36b8 100644
--- a/MoveStopMove/ProjectSettings/ProjectVersion.txt
+++ b/MoveStopMove/ProjectSettings/ProjectVersion.txt
@@ -1,2 +1,2 @@
-m_EditorVersion: 2020.3.20f1
-m_EditorVersionWithRevision: 2020.3.20f1 (41c4e627c95f)
+m_EditorVersion: 2020.3.30f1
+m_EditorVersionWithRevision: 2020.3.30f1 (1fb1bf06830e)
